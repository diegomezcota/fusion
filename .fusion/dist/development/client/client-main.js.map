{"version":3,"file":"client-main.js","sources":["C:\\Users\\diego\\OneDrive\\Documentos\\fusionjs\\fusion-tutorial\\src\\components\\root.js","C:\\Users\\diego\\OneDrive\\Documentos\\fusionjs\\fusion-tutorial\\src\\main.js","C:\\Users\\diego\\OneDrive\\Documentos\\fusionjs\\fusion-tutorial\\src\\plugins\\todos.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\r\nimport {Helmet} from 'fusion-plugin-react-helmet-async';\r\nimport fetch from 'isomorphic-fetch';\r\n\r\nconst Root = () => {\r\n  const [todos, setTodos] = useState([]);\r\n  const [inputText, setInputText] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch('/api/todos')\r\n      .then(async res => await res.json())\r\n      .then(res => setTodos(res));\r\n  }, []);\r\n\r\n  const handleOnKeydown = (e) => {\r\n    if (e.key === 'Enter') {\r\n      setInputText('');\r\n      setTodos([\r\n        ...todos,\r\n        inputText\r\n      ]);\r\n      fetch('/api/todos', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({value: inputText}),\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleOnChange = (e) => {\r\n    setInputText(e.currentTarget.value);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n        <Helmet>\r\n      <style>\r\n      {`\r\n        body {\r\n          background-color: #f5f5f5;\r\n          font: 24px 'Helvetica Neue', Helvetica, Arial, sans-serif;\r\n        }\r\n        h1 {\r\n          color: rgba(175, 47, 47, 0.15);\r\n          font-size: 100px;\r\n          font-weight: 100;\r\n          text-align: center;\r\n        }\r\n        .container {\r\n          background: #ffffff;\r\n          border: 1px solid #ededed;\r\n          margin: 0 auto;\r\n          width: 550px;\r\n        }\r\n        input {\r\n          border: none;\r\n          font-size: 24px;\r\n          font-weight: 300;\r\n          padding: 15px;\r\n          width: 520px;\r\n        }\r\n        input::placeholder {\r\n          color: #e6e6e6;\r\n          font-style: italic;\r\n          font-weight: 100;\r\n        }\r\n        .todo {\r\n          border-top: 1px solid #ededed;\r\n          padding: 15px;\r\n        }\r\n        .todo-text {\r\n          font-weight: 300;\r\n        }\r\n      `}\r\n      </style>\r\n    </Helmet>\r\n      <h1>todos</h1>\r\n      <div className=\"container\">\r\n        <input\r\n          onChange={handleOnChange}\r\n          onKeyDown={handleOnKeydown}\r\n          placeholder=\"What needs to be done?\"\r\n          value={inputText}\r\n          type=\"text\"\r\n        />\r\n        {todos.map(todo => (\r\n          <div className=\"todo\">\r\n            <div className=\"todo-text\">{todo}</div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default <Root />;","import App from 'fusion-react';\r\nimport Root from './components/root';\r\nimport TodosPlugin from './plugins/todos';\r\n// styling\r\nimport HelmetPlugin from 'fusion-plugin-react-helmet-async';\r\n\r\nexport default async function start() {\r\n  const app = new App(Root);\r\n  if (__NODE__) {\r\n    app.middleware(require('koa-bodyparser')());\r\n    app.middleware(TodosPlugin);\r\n  }\r\n  app.register(HelmetPlugin);\r\n  return app;\r\n}","const todos = ['Buy milk', 'Walk dog'];\r\n\r\nexport default async (ctx, next) => {\r\n  if (ctx.path === '/api/todos') {\r\n    if (ctx.method === 'GET') {\r\n      ctx.response.body = todos;\r\n    } else if (ctx.method === 'POST') {\r\n      const {value} = ctx.request.body;\r\n      todos.push(value);\r\n      ctx.response.status = 201;\r\n    }\r\n  }\r\n  await next();\r\n};"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACjGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA,eAGA;AACA;AAAA;AACA;AACA;;;;;;;;;;;;ACdA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;A","sourceRoot":""}